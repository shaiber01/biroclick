# ReproLab - Multi-Agent Paper Reproduction System
# Python dependencies with pinned versions for reproducibility
#
# Installation: pip install -r requirements.txt
#
# For development with looser constraints, see requirements-dev.txt

# ═══════════════════════════════════════════════════════════════════════
# Core LangGraph/LangChain (pinned - APIs change frequently)
# ═══════════════════════════════════════════════════════════════════════
# LangGraph and LangChain versions are tightly coupled
# Tested with these specific versions - update together
langgraph==0.2.55
langchain==0.3.12
langchain-core==0.3.25
langchain-anthropic==0.3.0    # Primary: Claude Opus 4.5 for all agents (v1)
langchain-openai==0.2.14      # Optional: for future multi-model support

# ═══════════════════════════════════════════════════════════════════════
# FDTD Simulation - Meep
# ═══════════════════════════════════════════════════════════════════════
# IMPORTANT: Meep requires separate installation via conda
# Do NOT install via pip - it won't work correctly
#
# Installation:
#   conda install -c conda-forge meep=1.28.0
#   
# Or for parallel support:
#   conda install -c conda-forge meep=1.28.0 mpi4py openmpi
#
# This system is tested with Meep 1.28.x. Key API requirements:
# - mp.FluxRegion() syntax (changed in 1.20+)
# - mp.Medium() material definitions  
# - mp.Simulation() class structure
# - Harminv for resonance analysis
#
# If using Meep < 1.28, generated code may require manual adjustments.
#
# Verify your installation:
#   python -c "import meep; print(meep.__version__)"

# ═══════════════════════════════════════════════════════════════════════
# Scientific Computing (pinned for numerical consistency)
# ═══════════════════════════════════════════════════════════════════════
numpy==1.26.4              # Meep requires numpy; pinned for compatibility
scipy==1.14.1              # Optimization, interpolation
pandas==2.2.3              # Data manipulation

# ═══════════════════════════════════════════════════════════════════════
# Visualization
# ═══════════════════════════════════════════════════════════════════════
matplotlib==3.9.2          # Plotting (must not use plt.show() in generated code)
seaborn==0.13.2            # Statistical visualization

# ═══════════════════════════════════════════════════════════════════════
# Data Storage
# ═══════════════════════════════════════════════════════════════════════
h5py==3.12.1               # HDF5 for field data storage

# ═══════════════════════════════════════════════════════════════════════
# PDF Processing (for paper text extraction)
# ═══════════════════════════════════════════════════════════════════════
pypdf==5.1.0               # Basic PDF text extraction
pdfplumber==0.11.4         # Advanced PDF parsing with tables
PyMuPDF==1.25.1            # Figure extraction from PDFs (fitz)

# ═══════════════════════════════════════════════════════════════════════
# Image Processing
# ═══════════════════════════════════════════════════════════════════════
Pillow==11.0.0             # Image analysis for vision model input validation

# ═══════════════════════════════════════════════════════════════════════
# Utilities
# ═══════════════════════════════════════════════════════════════════════
pydantic==2.10.3           # Data validation for schemas
python-dotenv==1.0.1       # Environment variable management
rich==13.9.4               # Pretty terminal output
tqdm==4.67.1               # Progress bars

# ═══════════════════════════════════════════════════════════════════════
# HTTP/Networking (for figure downloads)
# ═══════════════════════════════════════════════════════════════════════
requests==2.32.3           # HTTP client for figure downloads
urllib3==2.2.3             # URL handling

# ═══════════════════════════════════════════════════════════════════════
# JSON Schema Validation
# ═══════════════════════════════════════════════════════════════════════
jsonschema==4.23.0         # Validate plan/progress/assumptions against schemas

# ═══════════════════════════════════════════════════════════════════════
# Typing Extensions (for Python 3.9/3.10 compatibility)
# ═══════════════════════════════════════════════════════════════════════
typing_extensions==4.12.2  # NotRequired, TypedDict improvements
